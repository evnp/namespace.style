"use strict";var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(i){for(var r,e=1,s=arguments.length;e<s;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])}return i},__assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.resolveENSSArg=void 0;var defaultConfig={elementSeparator:"-",conditionalSeparator:"--",strictBoolChecks:!0},config=__assign({},defaultConfig);function toStringError(){throw new Error("Do not coerce to string directly; use .c (.class) or .s (.string)")}function enss(i,r,e,s){var o,h=function(){return config.elementSeparator},l=function(){return config.conditionalSeparator};if(i=omitEnumReverseMappings(i),r=omitEnumReverseMappings(r),e=omitEnumReverseMappings(e),typeof s=="function"){var N={};s=(o=s(N))!==null&&o!==void 0?o:N}var m=extractNameEnumData(i,s),t=m[0],b=m[1];function j(v){var n=v[0],a=v[1],f=S.get(n);return f?!a||a===n?[n,f]:[n,a+" "+f]:(typeof a=="string"&&a.length?S.set(n,a):S.set(n,null),[n,a])}var k=Object.entries(s!=null?s:[]),S=new Map(k);t&&S.set(t,b!=null?b:null),r=Object.fromEntries(Object.entries(r!=null?r:{}).map(j)),e=Object.fromEntries(Object.entries(e!=null?e:{}).map(j));function x(v,n){function a(){return Object.fromEntries(Object.entries(e!=null?e:{}).map(function(f){var d=f[0],O=f[1],u=v?v+" ":"",B=O&&O!==d?" "+O:"";function g(C){var _,w,p;return!arguments.length||C===!0||!config.strictBoolChecks&&C?(p=!1,_=n+d+B,w=u+_):(p=!0,_="",w=v!=null?v:""),__assign(__assign({__enss__:!0},p?{__enssCondOff__:!0}:{}),{name:d,class:w,c:w,string:_,s:_,toString:toStringError})}return g.__enss__=!0,g.string=g.s=n+d+B,g.class=g.c=u+g.string,g.toString=toStringError,Object.defineProperty(g,"name",{value:d,writable:!1}),[d,g]}))}return a()}var P=Object.fromEntries(Object.entries(r!=null?r:{}).map(function(v){var n=v[0],a=v[1],f,d=a&&a!==n?a:"",O=t?t+h():"";function u(){for(var g=[],C=0;C<arguments.length;C++)g[C]=arguments[C];var _=d;if(g.length){var w=composeClass(u,config,S,O+n+l(),g);f=_.length&&w.length?" ":"",_+=f+w}var p=O+n;return f=p.length&&_.length&&_[0]!==" "?" ":"",p+=f+_,{__enss__:!0,name:n,class:p,c:p,string:_,s:_,toString:toStringError}}u.__enss__=!0,u.string=u.s=d;var B=O+n;return f=B.length&&u.string.length?" ":"",u.class=u.c=B+f+u.string,u.toString=toStringError,Object.assign(u,x(u.c,O+n+l())),Object.defineProperty(u,"name",{value:n,writable:!1}),[n,u]})),A=t!=null?t:"",y=b!=null?b:"",I=t?t+l():"";function c(){for(var v=[],n=0;n<arguments.length;n++)v[n]=arguments[n];var a=y;if(v.length){var f=composeClass(c,config,S,I,v),d=a.length&&f.length?" ":"";a+=d+f}var O=A+(t&&a.length?" ":"")+a;return{__enss__:!0,name:t,class:O,c:O,string:a,s:a,toString:toStringError}}return c.__enss__=!0,c.class=c.c=A+(t&&b?" ":"")+y,c.string=c.s=y,c.toString=toStringError,Object.defineProperty(c,"name",{value:t,writable:!1}),t&&Object.defineProperty(c,t,{value:c,writable:!1}),Object.assign(c,P),Object.assign(c,x(c.c,t?t+l():"")),c}exports.default=enss;function resolveENSSArg(i,r){var e=r,s=e.__enss__,o=e.__enssCondOff__,h=e.name;if(s){var l=i[h];return l?o?l(!1).string:l.string:r.string}return r}exports.resolveENSSArg=resolveENSSArg;function composeClass(i,r,e,s,o){for(var h,l="",N=0,m=o;N<m.length;N++){var t=m[N];if(t){if(typeof t=="string"||t instanceof String)throw new Error("Do not pass strings directly; enclose in object or array");if((h=t)===null||h===void 0?void 0:h.__enss__){var b=resolveENSSArg(i,t);l+=(b==null?void 0:b.length)?" "+b:""}else{var j=void 0;if(Array.isArray(t))j=t.map(function(I){return[I,!0]});else{try{j=Object.entries(t)}catch(I){j=null}if(!(j==null?void 0:j.length))throw new Error("ENSS Error: Invalid input ".concat(JSON.stringify(t),"."))}for(var k=0,S=j;k<S.length;k++){var x=S[k],P=x[0],A=x[1];if(A===!0||!r.strictBoolChecks&&A){l+=" "+s+P;var y=e==null?void 0:e.get(P);(y==null?void 0:y.length)&&(typeof y=="string"||y instanceof String)&&(l+=" "+y)}}}}}return l.slice(1)}function omitEnumReverseMappings(i){return i&&Object.fromEntries(Object.entries(i).filter(function(r){var e=r[0];return!Number.isInteger(Number(e))}).map(function(r){var e=r[0],s=r[1];return[e,Number.isInteger(Number(s))?null:s]}))}function extractNameEnumData(i,r){var e,s=null,o=null;if(i&&typeof i=="object"){var h=Object.entries(i);if(h.length>1)throw new Error("ENSS Error: Invalid name enum provided; should have at most 1 field.");h.length===1&&(e=h[0],s=e[0],o=e[1])}if(s&&r&&typeof r=="object"){var l=Object.prototype.hasOwnProperty.call(r,s)&&r[s];l&&(o=(o?o+" ":"")+l)}return[s,o]}enss.configure=function(i){Object.assign(config,i===null?defaultConfig:i)};
