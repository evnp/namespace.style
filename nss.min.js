"use strict";var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,s=1,n=arguments.length;s<n;s++){t=arguments[s];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},__assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.resolveNSSArg=void 0;var defaultConfig={separator:"",elementSeparator:"",conditionalSeparator:"",caseSensitiveProps:!1},config=__assign({},defaultConfig);function configure(e){Object.assign(config,e===null?defaultConfig:e)}function configElementSeparator(){var e,t;return((e=config.elementSeparator)===null||e===void 0?void 0:e.length)?config.elementSeparator:((t=config.separator)===null||t===void 0?void 0:t.length)?config.separator:"-"}function configConditionalSeparator(){var e,t;return((e=config.conditionalSeparator)===null||e===void 0?void 0:e.length)?config.conditionalSeparator:((t=config.separator)===null||t===void 0?void 0:t.length)?config.separator+config.separator:"--"}function toStringError(){throw new Error("Don't coerce to string directly; use .c or .s (aliases: .cls .str)")}function nss(e,t,s,n){var a,S=configElementSeparator(),f=configConditionalSeparator();if(e=omitEnumReverseMappings(e),t=omitEnumReverseMappings(t),s=omitEnumReverseMappings(s),typeof n=="function"){var j={};n=(a=n(j))!==null&&a!==void 0?a:j}var A=extractNameEnumData(e,n),o=A[0],p=A[1],N=Object.entries(n!=null?n:[]),m=new Map(N),c=new Map(N.map(function(l){var r=l[0];return[r.toLowerCase(),r]}));o&&(m.set(o,p!=null?p:null),c.set(o.toLowerCase(),o));function w(l){var r=l[0],v=l[1],b=m.get(r);return b?!v||v===r?[r,b]:[r,v+" "+b]:(typeof v=="string"&&v.length?(m.set(r,v),c.set(r.toLowerCase(),r)):(m.set(r,null),c.set(r.toLowerCase(),r)),[r,v])}t=Object.fromEntries(Object.entries(t!=null?t:{}).map(w)),s=Object.fromEntries(Object.entries(s!=null?s:{}).map(w));function g(l,r){return Object.fromEntries(Object.entries(s!=null?s:{}).map(function(v){var b=v[0],L=v[1],u=(l==null?void 0:l.length)?l+" ":"",k=L&&L!==b?" "+L:"";function O(_){var h,B,x;!arguments.length||_?(x=!1,h=r+b+k,B=u+h):(x=!0,h="",B=l);var P=h,I=__assign(__assign({__nss__:!0},x?{__nssCondOff__:!0}:{}),{name:b,cls:B,c:B,str:P,s:P,toString:toStringError});return Object.assign(I,g(B,r)),I}return O.__nss__=!0,O.str=r+b+k,O.s=O.str,O.cls=u+r+b+k,O.c=O.cls,O.toString=toStringError,Object.defineProperty(O,"name",{value:b,writable:!1}),[b,O]}))}var d=Object.fromEntries(Object.entries(t!=null?t:{}).map(function(l){var r=l[0],v=l[1],b=v&&v!==r?v:"",L=o?o+S:"";function u(){for(var _=[],h=0;h<arguments.length;h++)_[h]=arguments[h];return constructNSSObject({parent:u,mappings:m,mappingsLowercase:c,baseName:r,baseClass:L+r,separator:f,afterClass:b,values:_,caseSensitive:!0,strictBoolChecks:!1,acceptArbitraryStrings:!0})}u.__nss__=!0,u.str=b,u.s=u.str;var k=L+r,O=k.length&&u.str.length?" ":"";return u.cls=k+O+u.str,u.c=u.cls,u.toString=toStringError,u.props=function(){for(var _=[],h=0;h<arguments.length;h++)_[h]=arguments[h];return constructNSSObject({parent:u,mappings:m,mappingsLowercase:c,baseName:r,baseClass:L+r,separator:f,afterClass:b,values:_,caseSensitive:config.caseSensitiveProps,strictBoolChecks:!0,acceptArbitraryStrings:!1})},Object.assign(u,g(u.c,L+r+f)),Object.defineProperty(u,"name",{value:r,writable:!1}),[r,u]})),y=o!=null?o:"",C=p!=null?p:"";function i(){for(var l=[],r=0;r<arguments.length;r++)l[r]=arguments[r];return constructNSSObject({parent:i,mappings:m,mappingsLowercase:c,baseName:o!=null?o:"",baseClass:y,separator:f,afterClass:C,values:l,caseSensitive:!0,strictBoolChecks:!1,acceptArbitraryStrings:!0})}return i.__nss__=!0,i.cls=y+(o&&p?" ":"")+C,i.c=i.cls,i.str=C,i.s=i.str,i.toString=toStringError,i.props=function(){for(var l=[],r=0;r<arguments.length;r++)l[r]=arguments[r];return constructNSSObject({parent:i,mappings:m,mappingsLowercase:c,baseName:o!=null?o:"",baseClass:y,separator:f,afterClass:C,values:l,caseSensitive:config.caseSensitiveProps,strictBoolChecks:!0,acceptArbitraryStrings:!1})},Object.defineProperty(i,"name",{value:o,writable:!1}),o&&Object.defineProperty(i,o,{value:i,writable:!1}),Object.assign(i,d),Object.assign(i,g(i.c,o?o+f:"")),i}exports.default=nss;function resolveNSSArg(e,t){var s=t,n=s.__nss__,a=s.__nssCondOff__,S=s.name;if(n){var f=e[S];return f?a?f(!1).str:f.str:t.str}return t}exports.resolveNSSArg=resolveNSSArg;function constructNSSObject(e){var t=e.parent,s=e.mappings,n=e.mappingsLowercase,a=e.baseName,S=e.baseClass,f=e.separator,j=e.afterClass,A=e.values,o=e.caseSensitive,p=e.strictBoolChecks,N=e.acceptArbitraryStrings;if(!o&&s.size!=n.size){var m=Array.from(s.keys()),c=[];Array.from(s.keys()).find(function(l){return c=m.filter(function(r){return r.toLowerCase()===l.toLowerCase()}),c.length>1});var w=c.length?c.map(function(l){return'"'.concat(l,'"')}).join(", ")+" ":"";throw new Error("You're using multiple class names ".concat(w,"that are identical ")+"apart from casing; this causes ambiguity when using .props(...)")}a=a!=null?a:"";var g,d=j;if(A.length){var y=composeClass({parent:t,mappings:s,mappingsLowercase:n,prefix:S+(a?f:""),values:A,caseSensitive:o,strictBoolChecks:p,acceptArbitraryStrings:N});g=d.length&&y.length?" ":"",d+=g+y}var C=S;g=C.length&&d.length&&d[0]!==" "?" ":"",C+=g+d;var i={__nss__:!0,name:a,cls:C,c:C,str:d,s:d,toString:toStringError};return i}function composeClass(e){for(var t,s=e.parent,n=e.mappings,a=e.mappingsLowercase,S=e.prefix,f=e.values,j=e.caseSensitive,A=e.strictBoolChecks,o=e.acceptArbitraryStrings,p="",N=0,m=f;N<m.length;N++){var c=m[N];if(typeof c=="string"||c instanceof String)throw new Error("Do not pass strings directly; enclose in object or array");if(c)if((t=c)===null||t===void 0?void 0:t.__nss__){var w=resolveNSSArg(s,c);p+=(w==null?void 0:w.length)?" "+w:""}else{var g=void 0;if(Array.isArray(c))g=c.map(function(v){return[v,!0]});else{try{g=Object.entries(c)}catch(v){g=null}if(!(g==null?void 0:g.length))throw new Error("NSS Error: Invalid input ".concat(JSON.stringify(c),"."))}for(var d=0,y=g;d<y.length;d++){var C=y[d],i=C[0],l=C[1];if(l===!0||!A&&l){if(!o){if(j){if(!n.has(i))continue}else if(!a.has(i.toLowerCase()))continue}j?p+=" "+S+i:p+=" "+S+a.get(i.toLowerCase());var r=j?n.get(i):n.get(a.get(i.toLowerCase()));(r==null?void 0:r.length)&&(typeof r=="string"||r instanceof String)&&(p+=" "+r)}}}}return p.slice(1)}function omitEnumReverseMappings(e){return e&&Object.fromEntries(Object.entries(e).filter(function(t){var s=t[0];return!Number.isInteger(Number(s))}).map(function(t){var s=t[0],n=t[1];return[s,Number.isInteger(Number(n))?null:n]}))}function extractNameEnumData(e,t){var s,n=null,a=null;if(e&&typeof e=="object"){var S=Object.entries(e);if(S.length>1)throw new Error("NSS Error: Invalid name enum provided; should have at most 1 field.");S.length===1&&(s=S[0],n=s[0],a=s[1])}if(n&&t&&typeof t=="object"){var f=Object.prototype.hasOwnProperty.call(t,n)&&t[n];f&&(a=(a?a+" ":"")+f)}return[n,a]}nss.config=config,nss.configure=configure;
