"use strict";var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},__assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.resolveNSSArg=void 0;var defaultConfig={elementSeparator:"-",conditionalSeparator:"--",caseSensitiveProps:!1},config=__assign({},defaultConfig);function toStringError(){throw new Error("Don't coerce to string directly; use .c or .s (aliases: .cls .str)")}function nss(e,t,s,o){var n,d=function(){return config.elementSeparator},c=function(){return config.conditionalSeparator};if(e=omitEnumReverseMappings(e),t=omitEnumReverseMappings(t),s=omitEnumReverseMappings(s),typeof o=="function"){var L={};o=(n=o(L))!==null&&n!==void 0?n:L}var y=extractNameEnumData(e,o),a=y[0],v=y[1],N=Object.entries(o!=null?o:[]),l=new Map(N),m=new Map(N.map(function(i){var r=i[0],g=i[1];return[r.toLowerCase(),g]}));a&&(l.set(a,v!=null?v:null),m.set(a.toLowerCase(),v!=null?v:null));function p(i){var r=i[0],g=i[1],j=l.get(r);return j?!g||g===r?[r,j]:[r,g+" "+j]:(typeof g=="string"&&g.length?(l.set(r,g),m.set(r.toLowerCase(),g)):(l.set(r,null),m.set(r.toLowerCase(),null)),[r,g])}t=Object.fromEntries(Object.entries(t!=null?t:{}).map(p)),s=Object.fromEntries(Object.entries(s!=null?s:{}).map(p));function h(i,r){function g(){return Object.fromEntries(Object.entries(s!=null?s:{}).map(function(j){var w=j[0],f=j[1],_=i?i+" ":"",x=f&&f!==w?" "+f:"";function b(O){var B,A,P;return!arguments.length||O?(P=!1,B=r+w+x,A=_+B):(P=!0,B="",A=i!=null?i:""),__assign(__assign({__nss__:!0},P?{__nssCondOff__:!0}:{}),{name:w,cls:A,c:A,str:B,s:B,toString:toStringError})}return b.__nss__=!0,b.str=b.s=r+w+x,b.cls=b.c=_+b.str,b.toString=toStringError,Object.defineProperty(b,"name",{value:w,writable:!1}),[w,b]}))}return g()}var k=Object.fromEntries(Object.entries(t!=null?t:{}).map(function(i){var r=i[0],g=i[1],j=g&&g!==r?g:"",w=a?a+d():"";function f(){for(var b=[],O=0;O<arguments.length;O++)b[O]=arguments[O];return constructNSSObject({builder:f,mappings:l,mappingsLowercase:m,baseName:r,baseClass:w+r,separator:c(),afterClass:j,values:b,caseSensitive:!0,strictBoolChecks:!1})}f.__nss__=!0,f.str=f.s=j;var _=w+r,x=_.length&&f.str.length?" ":"";return f.cls=f.c=_+x+f.str,f.toString=toStringError,f.props=function(){for(var b=[],O=0;O<arguments.length;O++)b[O]=arguments[O];return constructNSSObject({builder:f,mappings:l,mappingsLowercase:m,baseName:r,baseClass:w+r,separator:c(),afterClass:j,values:b,caseSensitive:config.caseSensitiveProps,strictBoolChecks:!0})},Object.assign(f,h(f.c,w+r+c())),Object.defineProperty(f,"name",{value:r,writable:!1}),[r,f]})),S=a!=null?a:"",C=v!=null?v:"";function u(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return constructNSSObject({builder:u,mappings:l,mappingsLowercase:m,baseName:a!=null?a:"",baseClass:S,separator:c(),afterClass:C,values:i,caseSensitive:!0,strictBoolChecks:!1})}return u.__nss__=!0,u.cls=u.c=S+(a&&v?" ":"")+C,u.str=u.s=C,u.toString=toStringError,u.props=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return constructNSSObject({builder:u,mappings:l,mappingsLowercase:m,baseName:a!=null?a:"",baseClass:S,separator:c(),afterClass:C,values:i,caseSensitive:config.caseSensitiveProps,strictBoolChecks:!0})},Object.defineProperty(u,"name",{value:a,writable:!1}),a&&Object.defineProperty(u,a,{value:u,writable:!1}),Object.assign(u,k),Object.assign(u,h(u.c,a?a+c():"")),u}exports.default=nss;function resolveNSSArg(e,t){var s=t,o=s.__nss__,n=s.__nssCondOff__,d=s.name;if(o){var c=e[d];return c?n?c(!1).str:c.str:t.str}return t}exports.resolveNSSArg=resolveNSSArg;function constructNSSObject(e){var t=e.builder,s=e.mappings,o=e.mappingsLowercase,n=e.baseName,d=e.baseClass,c=e.separator,L=e.afterClass,y=e.values,a=e.caseSensitive,v=e.strictBoolChecks;if(!a&&s.size!=o.size){var N=Array.from(s.keys()),l=[];Array.from(s.keys()).find(function(C){return l=N.filter(function(u){return u.toLowerCase()===C.toLowerCase()}),l.length>1});var m=l.length?l.map(function(C){return'"'.concat(C,'"')}).join(", ")+" ":"";throw new Error("You're using multiple class names ".concat(m,"that are identical ")+"apart from casing; this causes ambiguity when using .props(...)")}n=n!=null?n:"";var p,h=L;if(y.length){var k=composeClass({builder:t,mappings:s,mappingsLowercase:o,prefix:d+(n?c:""),values:y,caseSensitive:a,strictBoolChecks:v});p=h.length&&k.length?" ":"",h+=p+k}var S=d;return p=S.length&&h.length&&h[0]!==" "?" ":"",S+=p+h,{__nss__:!0,name:n,cls:S,c:S,str:h,s:h,toString:toStringError}}function composeClass(e){for(var t,s=e.builder,o=e.mappings,n=e.mappingsLowercase,d=e.prefix,c=e.values,L=e.caseSensitive,y=e.strictBoolChecks,a="",v=0,N=c;v<N.length;v++){var l=N[v];if(l){if(typeof l=="string"||l instanceof String)throw new Error("Do not pass strings directly; enclose in object or array");if((t=l)===null||t===void 0?void 0:t.__nss__){var m=resolveNSSArg(s,l);a+=(m==null?void 0:m.length)?" "+m:""}else{var p=void 0;if(Array.isArray(l))p=l.map(function(r){return[r,!0]});else{try{p=Object.entries(l)}catch(r){p=null}if(!(p==null?void 0:p.length))throw new Error("NSS Error: Invalid input ".concat(JSON.stringify(l),"."))}for(var h=0,k=p;h<k.length;h++){var S=k[h],C=S[0],u=S[1];if(u===!0||!y&&u){a+=" "+d+C;var i=L?o.get(C):n.get(C);(i==null?void 0:i.length)&&(typeof i=="string"||i instanceof String)&&(a+=" "+i)}}}}}return a.slice(1)}function omitEnumReverseMappings(e){return e&&Object.fromEntries(Object.entries(e).filter(function(t){var s=t[0];return!Number.isInteger(Number(s))}).map(function(t){var s=t[0],o=t[1];return[s,Number.isInteger(Number(o))?null:o]}))}function extractNameEnumData(e,t){var s,o=null,n=null;if(e&&typeof e=="object"){var d=Object.entries(e);if(d.length>1)throw new Error("NSS Error: Invalid name enum provided; should have at most 1 field.");d.length===1&&(s=d[0],o=s[0],n=s[1])}if(o&&t&&typeof t=="object"){var c=Object.prototype.hasOwnProperty.call(t,o)&&t[o];c&&(n=(n?n+" ":"")+c)}return[o,n]}nss.configure=function(e){Object.assign(config,e===null?defaultConfig:e)};
