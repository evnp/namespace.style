var I={separator:"",elementSeparator:"",conditionalSeparator:"",caseSensitiveProps:!1},f={...I};function z(t){Object.assign(f,t===null?I:t)}function J(){return f.elementSeparator?.length?f.elementSeparator:f.separator?.length?f.separator:"-"}function K(){return f.conditionalSeparator?.length?f.conditionalSeparator:f.separator?.length?f.separator+f.separator:"--"}function k(){throw new Error("Don't coerce to string directly; use .c (alias: .cls)")}function A(t){return t?.toString===k}function T(t){return A(t)&&t===t?.parent}function Y(t){let{parent:e}=t;return T(e)&&!D(t)}function D(t){let{off:e}=t;return A(t)&&typeof e=="boolean"}function O(t,e,s,r){let c=J(),u=K();if(t=L(t),e=L(e),s=L(s),typeof r=="function"){let n={};r=r(n)??n}let[a,j]=H(t,r),b=Object.entries(r??[]),l=new Map(b),g=new Map(b.map(([n])=>[n.toLowerCase(),n]));a&&(l.set(a,j??null),g.set(a.toLowerCase(),a));function B([n,p]){let d=l.get(n);return d?!p||p===n?[n,d]:[n,p+" "+d]:(typeof p=="string"&&p.length?(l.set(n,p),g.set(n.toLowerCase(),n)):(l.set(n,null),g.set(n.toLowerCase(),n)),[n,p])}e=Object.fromEntries(Object.entries(e??{}).map(B)),s=Object.fromEntries(Object.entries(s??{}).map(B));function i(n,p,d){return Object.fromEntries(Object.entries(s??{}).map(([C,F])=>{let S=n?.length?n+" ":"",[h,_]=R(C,F);function N($){let v,M;!arguments.length||$?(M=!1,v=S+p+C+_):(M=!0,v=n);let P={off:M,cls:v,c:v,name:C,value:p+C,mapped:h,toString:k,parent:d};return Object.assign(P,i(v,p,d)),P}return N.off=!1,N.cls=S+p+C+_,N.c=N.cls,N.value=p+C,N.mapped=h,N.toString=k,N.parent=d,Object.defineProperty(N,"name",{value:C,writable:!1}),[C,N]}))}let E=Object.fromEntries(Object.entries(e??{}).map(([n,p])=>{let d=(a?a+c:"")+n,[C,F]=R(n,p);function S(...h){return x({name:n,cls:d,separator:u,base:o,builder:S,mapped:C,mappings:l,mappingsLowercase:g,values:h,caseSensitive:!0,strictBoolChecks:!1,acceptArbitraryStrings:!0})}return S.cls=d+F,S.c=S.cls,S.value=d,S.mapped=C,S.toString=k,S.parent=o,S.props=function(...h){return x({name:n,cls:d,separator:u,base:o,builder:S,mapped:C,mappings:l,mappingsLowercase:g,values:h,caseSensitive:f.caseSensitiveProps,strictBoolChecks:!0,acceptArbitraryStrings:!1})},Object.assign(S,i(S.c,d+u,S)),Object.defineProperty(S,"name",{value:n,writable:!1}),[n,S]})),m=a??"",[y,w]=R(a,j);function o(...n){return x({name:m,cls:m,separator:u,base:o,builder:o,mapped:y,mappings:l,mappingsLowercase:g,values:n,caseSensitive:!0,strictBoolChecks:!1,acceptArbitraryStrings:!0})}return o.cls=m+w,o.c=o.cls,o.value=m,o.mapped=y,o.toString=k,o.parent=o,o.props=function(...n){return x({name:m,cls:m,separator:u,base:o,builder:o,mapped:y,mappings:l,mappingsLowercase:g,values:n,caseSensitive:f.caseSensitiveProps,strictBoolChecks:!0,acceptArbitraryStrings:!1})},Object.defineProperty(o,"name",{value:a,writable:!1}),a&&Object.defineProperty(o,a,{value:o,writable:!1}),Object.assign(o,E),Object.assign(o,i(o.c,a?a+u:"",o)),o}function q(t,e){if(A(e)){let s=t[e.name],r=s;if(!s)r=e;else if(e.off)return"";let{cls:c,mapped:u}=r;return c.slice(c.lastIndexOf(" ",c.length-(u?.length??0)-2)+1)}else return null}function x({name:t,cls:e,separator:s,base:r,builder:c,mapped:u,mappings:a,mappingsLowercase:j,values:b,caseSensitive:l,strictBoolChecks:g,acceptArbitraryStrings:B}){if(!l&&a.size!=j.size){let y=Array.from(a.keys()),w=[];Array.from(a.keys()).find(n=>(w=y.filter(p=>p.toLowerCase()===n.toLowerCase()),w.length>1));let o=w.length?w.map(n=>`"${n}"`).join(", ")+" ":"";throw new Error(`You're using multiple class names ${o}that are identical apart from casing; this causes ambiguity when using .props(...)`)}let i,E=u??"";if(b.length){let y=G({builder:c,mappings:a,mappingsLowercase:j,prefix:e+(e.length?s:""),values:b,caseSensitive:l,strictBoolChecks:g,acceptArbitraryStrings:B});i=E.length&&y.length?" ":"",E+=i+y}return i=e.length&&E.length&&E[0]!==" "?" ":"",{__nss__:!0,name:t,cls:e+i+E,c:e+i+E,value:e,mapped:u,toString:k,parent:r}}function G({builder:t,mappings:e,mappingsLowercase:s,prefix:r,values:c,caseSensitive:u,strictBoolChecks:a,acceptArbitraryStrings:j}){let b="";for(let l of c){if(typeof l=="string"||l instanceof String)throw new Error("Do not pass strings directly; enclose in object or array");if(l){let g=q(t,l);if(g!==null)b+=g?.length?" "+g:"";else{let B;if(Array.isArray(l))B=l.map(i=>[i,!0]);else{try{B=Object.entries(l)}catch{B=null}if(!B?.length)throw new Error(`NSS Error: Invalid input ${JSON.stringify(l)}.`)}for(let[i,E]of B)if(E===!0||!a&&E){if(!j){if(u){if(!e.has(i))continue}else if(!s.has(i.toLowerCase()))continue}u?b+=" "+r+i:b+=" "+r+s.get(i.toLowerCase());let m=u?e.get(i):e.get(s.get(i.toLowerCase()));m?.length&&(typeof m=="string"||m instanceof String)&&(b+=" "+m)}}}}return b.slice(1)}function L(t){return t&&Object.fromEntries(Object.entries(t).filter(([e])=>!Number.isInteger(Number(e))).map(([e,s])=>[e,Number.isInteger(Number(s))?null:s]))}function H(t,e){let s=null,r=null;if(t&&typeof t=="object"){let c=Object.entries(t);if(c.length>1)throw new Error("NSS Error: Invalid name enum provided; should have at most 1 field.");c.length===1&&([[s,r]]=c)}if(s&&e&&typeof e=="object"){let c=Object.prototype.hasOwnProperty.call(e,s)&&e[s];c&&(r=(r?r+" ":"")+c)}return[s,r]}function R(t,e){let s=e??"",r=s.length&&s!==t,c=r?s:null,u=r?" "+s:"";return[c,u]}O.config=f;O.configure=z;O.isInstance=A;O.isBase=T;O.isElem=Y;O.isCond=D;export{O as default,D as isCondNSSObject,q as resolveNSSArg};
