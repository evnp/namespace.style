var L=Object.defineProperty;var K=Object.getOwnPropertyDescriptor;var Y=Object.getOwnPropertyNames;var q=Object.prototype.hasOwnProperty;var G=n=>L(n,"__esModule",{value:!0});var H=(n,e)=>{for(var t in e)L(n,t,{get:e[t],enumerable:!0})},Q=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Y(e))!q.call(n,o)&&(t||o!=="default")&&L(n,o,{get:()=>e[o],enumerable:!(r=K(e,o))||r.enumerable});return n};var V=(n=>(e,t)=>n&&n.get(e)||(t=Q(G({}),e,1),n&&n.set(e,t),t))(typeof WeakMap!="undefined"?new WeakMap:0);var se={};H(se,{default:()=>y,resolveNSSArg:()=>z});var $={separator:"",elementSeparator:"",conditionalSeparator:"",caseSensitiveProps:!1},d={...$};function W(n){Object.assign(d,n===null?$:n)}function X(){return d.elementSeparator?.length?d.elementSeparator:d.separator?.length?d.separator:"-"}function Z(){return d.conditionalSeparator?.length?d.conditionalSeparator:d.separator?.length?d.separator+d.separator:"--"}function k(){throw new Error("Don't coerce to string directly; use .c (alias: .cls)")}function A(n){return n?.toString===k}function R(n){return A(n)&&n===n?.parent}function U(n){let{parent:e}=n;return R(e)&&!D(n)}function D(n){let{off:e}=n;return A(n)&&typeof e=="boolean"}function ee(n){let e;if(R(n))e=n;else throw new Error("Only pass Name to nss.name, not Elem or Cond or any other value.");let t=Object.keys(e).filter(l=>`${parseInt(l)}`!==l),[r,...o]=t;if(!r||o?.length)throw new Error("Name enum must have exactly one key.");return r}function y(n,e,t,r){let o=X(),l=Z();if(n=_(n),e=_(e),t=_(t),typeof r=="function"){let s={};r=r(s)??s}let[i,O]=te(n,r),b=Object.entries(r??[]),c=new Map(b),g=new Map(b.map(([s])=>[s.toLowerCase(),s]));i&&(c.set(i,O??null),g.set(i.toLowerCase(),i));function B([s,p]){let f=c.get(s);return f?!p||p===s?[s,f]:[s,p+" "+f]:(typeof p=="string"&&p.length?(c.set(s,p),g.set(s.toLowerCase(),s)):(c.set(s,null),g.set(s.toLowerCase(),s)),[s,p])}e=Object.fromEntries(Object.entries(e??{}).map(B)),t=Object.fromEntries(Object.entries(t??{}).map(B));function S(s,p,f){return Object.fromEntries(Object.entries(t??{}).map(([C,F])=>{let u=s?.length?s+" ":"",[h,I]=P(C,F);function N(J){let v,M;!arguments.length||J?(M=!1,v=u+p+C+I):(M=!0,v=s);let T={off:M,cls:v,c:v,name:C,value:p+C,mapped:h,toString:k,parent:f};return Object.assign(T,S(v,p,f)),T}return N.off=!1,N.cls=u+p+C+I,N.c=N.cls,N.value=p+C,N.mapped=h,N.toString=k,N.parent=f,Object.defineProperty(N,"name",{value:C,writable:!1}),[C,N]}))}let E=Object.fromEntries(Object.entries(e??{}).map(([s,p])=>{let f=(i?i+o:"")+s,[C,F]=P(s,p);function u(...h){return x({name:s,cls:f,separator:l,base:a,builder:u,mapped:C,mappings:c,mappingsLowercase:g,values:h,caseSensitive:!0,strictBoolChecks:!1,acceptArbitraryStrings:!0})}return u.cls=f+F,u.c=u.cls,u.value=f,u.mapped=C,u.toString=k,u.parent=a,u.props=function(...h){return x({name:s,cls:f,separator:l,base:a,builder:u,mapped:C,mappings:c,mappingsLowercase:g,values:h,caseSensitive:d.caseSensitiveProps,strictBoolChecks:!0,acceptArbitraryStrings:!1})},Object.assign(u,S(u.c,f+l,u)),Object.defineProperty(u,"name",{value:s,writable:!1}),[s,u]})),m=i??"",[j,w]=P(i,O);function a(...s){return x({name:m,cls:m,separator:l,base:a,builder:a,mapped:j,mappings:c,mappingsLowercase:g,values:s,caseSensitive:!0,strictBoolChecks:!1,acceptArbitraryStrings:!0})}return a.cls=m+w,a.c=a.cls,a.value=m,a.mapped=j,a.toString=k,a.parent=a,a.props=function(...s){return x({name:m,cls:m,separator:l,base:a,builder:a,mapped:j,mappings:c,mappingsLowercase:g,values:s,caseSensitive:d.caseSensitiveProps,strictBoolChecks:!0,acceptArbitraryStrings:!1})},Object.defineProperty(a,"name",{value:i,writable:!1}),i&&Object.defineProperty(a,i,{value:a,writable:!1}),Object.assign(a,E),Object.assign(a,S(a.c,i?i+l:"",a)),a}function z(n,e){if(A(e)){let t=n[e.name],r=t;if(!t)r=e;else if(e.off)return"";let{cls:o,mapped:l}=r;return o.slice(o.lastIndexOf(" ",o.length-(l?.length??0)-2)+1)}else return null}function x({name:n,cls:e,separator:t,base:r,builder:o,mapped:l,mappings:i,mappingsLowercase:O,values:b,caseSensitive:c,strictBoolChecks:g,acceptArbitraryStrings:B}){if(!c&&i.size!=O.size){let j=Array.from(i.keys()),w=[];Array.from(i.keys()).find(s=>(w=j.filter(p=>p.toLowerCase()===s.toLowerCase()),w.length>1));let a=w.length?w.map(s=>`"${s}"`).join(", ")+" ":"";throw new Error(`You're using multiple class names ${a}that are identical apart from casing; this causes ambiguity when using .props(...)`)}let S,E=l??"";if(b.length){let j=ne({builder:o,mappings:i,mappingsLowercase:O,prefix:e+(e.length?t:""),values:b,caseSensitive:c,strictBoolChecks:g,acceptArbitraryStrings:B});S=E.length&&j.length?" ":"",E+=S+j}return S=e.length&&E.length&&E[0]!==" "?" ":"",{__nss__:!0,name:n,cls:e+S+E,c:e+S+E,value:e,mapped:l,toString:k,parent:r}}function ne({builder:n,mappings:e,mappingsLowercase:t,prefix:r,values:o,caseSensitive:l,strictBoolChecks:i,acceptArbitraryStrings:O}){let b="";for(let c of o){if(typeof c=="string"||c instanceof String)throw new Error("Do not pass strings directly; enclose in object or array");if(c){let g=z(n,c);if(g!==null)b+=g?.length?" "+g:"";else{let B;if(Array.isArray(c))B=c.map(S=>[S,!0]);else{try{B=Object.entries(c)}catch{B=null}if(!B?.length)throw new Error(`NSS Error: Invalid input ${JSON.stringify(c)}.`)}for(let[S,E]of B)if(E===!0||!i&&E){if(!O){if(l){if(!e.has(S))continue}else if(!t.has(S.toLowerCase()))continue}l?b+=" "+r+S:b+=" "+r+t.get(S.toLowerCase());let m=l?e.get(S):e.get(t.get(S.toLowerCase()));m?.length&&(typeof m=="string"||m instanceof String)&&(b+=" "+m)}}}}return b.slice(1)}function _(n){return n&&Object.fromEntries(Object.entries(n).filter(([e])=>!Number.isInteger(Number(e))).map(([e,t])=>[e,Number.isInteger(Number(t))?null:t]))}function te(n,e){let t=null,r=null;if(n&&typeof n=="object"){let o=Object.entries(n);if(o.length>1)throw new Error("NSS Error: Invalid name enum provided; should have at most 1 field.");o.length===1&&([[t,r]]=o)}if(t&&e&&typeof e=="object"){let o=Object.prototype.hasOwnProperty.call(e,t)&&e[t];o&&(r=(r?r+" ":"")+o)}return[t,r]}function P(n,e){let t=e??"",r=t.length&&t!==n,o=r?t:null,l=r?" "+t:"";return[o,l]}y.config=d;y.configure=W;y.isInstance=A;y.isBase=R;y.isElem=U;y.isCond=D;y.getName=ee;module.exports=V(se);
